{"version":3,"file":"index.js","sources":["quilk-frontend-router.js"],"sourcesContent":["export default class QuilkFrontendRouter {\r\n\r\n  /**\r\n   * Loops over a routesObject provided calling any classes that match the current browser url\r\n   */\r\n  constructor (routesObject, verbose = false) {\r\n\r\n    this.verbose_mode = verbose\r\n\r\n    let path = this.trimEnd(String(window.location.pathname), '/')\r\n    for (let key in routesObject) {\r\n\r\n      if (Array.isArray(routesObject[key])) {\r\n        this.log('Simple numeric array path matching')\r\n        this.run_path_matchers(routesObject, path, key)\r\n      } else {\r\n        if (key === 'path') {\r\n          this.log('Key hit \"path\", passing \"path\" object to the routing matcher')\r\n          for (let subkey in routesObject[key]) {\r\n            this.run_path_matchers(routesObject[key], path, subkey)\r\n          }\r\n        } else if (key === 'attributes') {\r\n          // check we have jquery else alert an error\r\n          if (typeof window.$ === 'undefined') {\r\n            alert('To use attribute selection with the QuilkFrontendRouter please ensure you load in jquery to the window object.')\r\n          } else {\r\n            this.log('Key hit \"attributes\", passing \"attributes\" object to the routing matcher')\r\n            this.run_attribute_matchers(routesObject[key])\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  log (msg) {\r\n    if (this.verbose_mode === true) {\r\n      console.log('QuilkFrontendRouter message: ', msg)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialises classes based on the attributes given\r\n   *\r\n   * @param attributesObject\r\n   */\r\n  run_attribute_matchers (attributesObject) {\r\n    let $ = window.$\r\n\r\n    for (let key in attributesObject) {\r\n      let values = attributesObject[key]\r\n      let attr   = key\r\n\r\n      for (let value in values) {\r\n        let constructors = values[value]\r\n\r\n        if (value === '*') {\r\n          if ($('*[' + attr + ']').length > 0) {\r\n            this.log('Wildcard hit for attr \"' + attr + '\"')\r\n            this.run_attribute_constructors(constructors)\r\n          }\r\n        } else {\r\n          let valueArr = value.split(' ')\r\n\r\n          // run against classes\r\n          let selector = ''\r\n          switch (attr) {\r\n            case 'class' : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '.' + valueArr[i] + ', '\r\n              }\r\n            }\r\n              break\r\n            case 'id' : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '#' + valueArr[i] + ', '\r\n              }\r\n            }\r\n              break\r\n            default : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '*[' + attr + '=' + valueArr[i] + '], '\r\n              }\r\n            }\r\n          }\r\n          selector = selector.slice(0, -2)\r\n          if ($(selector).length > 0) {\r\n            this.log('Attr + val hit: ' + selector)\r\n            this.run_attribute_constructors(constructors)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pass an numeric array of class to initialize\r\n   *\r\n   * @param constructorsArr\r\n   */\r\n  run_attribute_constructors (constructorsArr) {\r\n    for (let i = 0; i < constructorsArr.length; ++i) {\r\n      this.start_instance(constructorsArr[i])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Runs checks against the key and the path\r\n   *\r\n   * @param routesObject\r\n   * @param path\r\n   * @param key\r\n   */\r\n  run_path_matchers (routesObject, path, key) {\r\n    if (this.path_match(path, key)) {\r\n      for (let i = 0; i < routesObject[key].length; ++i) {\r\n        this.start_instance(routesObject[key][i])\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calls new on a class\r\n   *\r\n   * @param init\r\n   */\r\n  start_instance (init) {\r\n    if (!this.instances_run) this.instances_run = []\r\n\r\n    if (this.instances_run.indexOf(init) === -1) {\r\n      try {\r\n        new init\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n      this.instances_run.push(init)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns true if the provided path matches the key\r\n   *\r\n   * @param path\r\n   * @param key\r\n   * @returns {boolean}\r\n   */\r\n  path_match (path, key) {\r\n\r\n    //handle trailing wildcards\r\n    if (key.slice(-1) === '*') {\r\n\r\n      key = key.substring(0, key.length - 1)\r\n\r\n      if (key === '/' && path !== '/' && path.split('/').length === 2) return true\r\n\r\n      if (this.compare(path, key)) return true\r\n      else return ( path.indexOf(key) === 0 )\r\n    }\r\n\r\n    //handle std route\r\n    if (key.indexOf('(') === -1) return this.compare(path, key)\r\n\r\n    //handle key with params eg ()\r\n    let match = false\r\n    this.key_to_paths(key).forEach((k_path) => {\r\n      if (this.compare(path, k_path)) match = true\r\n    })\r\n\r\n    return match\r\n  }\r\n\r\n  /**\r\n   * Takes a key from the constants and returns a numeric array of all possible paths\r\n   *\r\n   * @param key\r\n   * @returns {[*]}\r\n   */\r\n  key_to_paths (key) {\r\n    let key_parts = key.split('(')\r\n    let ret       = [this.trimEnd(key_parts[0], '/')]\r\n    //walk over each provided segment in the () | separated params, ensuring the last ) char is stripped\r\n    key_parts[1].slice(0, -1).split('|').forEach((seg) => {\r\n      ret.push(this.trimEnd(key_parts[0] + seg, '/'))\r\n    })\r\n    return ret\r\n  }\r\n\r\n  /**\r\n   * Compares a given key and path. If the kay contains a : separated param this is removed first from the key and path before comparison.\r\n   *\r\n   * @param path\r\n   * @param key\r\n   */\r\n  compare (path, key) {\r\n\r\n    key = this.trimEnd(key, '/')\r\n    if (key.indexOf(':') === -1) return (path === key)\r\n\r\n    //we have found a key with a param, strip param from path and key, then re-compared\r\n    key = this.trimEnd(key.split(':')[0], '/')\r\n\r\n    //strip the trialing url segment\r\n    let paths = path.split('/')\r\n    paths.pop()\r\n\r\n    path = this.trimEnd(paths.join('/'), '/')\r\n\r\n    return (path === key)\r\n  }\r\n\r\n  /**\r\n   * Trims the end of the string if matched to the str2trim. Clone of the lodash trimEnd function\r\n   *\r\n   * @param str\r\n   * @param str2Trim\r\n   * @returns {string}\r\n   */\r\n  trimEnd (str, str2Trim) {\r\n    if (str.substring(str.length - str2Trim.length, str.length) === str2Trim)\r\n      return str.substring(0, str.length - str2Trim.length)\r\n    return str\r\n  }\r\n}"],"names":["let","i","this"],"mappings":"AAAe,IAAM,mBAAmB,GAAC,4BAK5B,EAAE,YAAY,EAAE,OAAe,EAAE;oBAAV;mCAAA,GAAG,KAAK;;;EAE1C,IAAM,CAAC,YAAY,GAAG,OAAO,CAAA;;EAE7B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAA;EAChE,KAAOA,IAAI,GAAG,IAAI,YAAY,EAAE;;IAE9B,IAAM,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE;MACtC,MAAM,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAA;MAChD,MAAM,CAAC,iBAAiB,CAAC,YAAY,EAAE,IAAI,EAAE,GAAG,CAAC,CAAA;KAChD,MAAM;MACP,IAAM,GAAG,KAAK,MAAM,EAAE;QACpB,MAAM,CAAC,GAAG,CAAC,8DAA8D,CAAC,CAAA;QAC1E,KAAOA,IAAI,MAAM,IAAI,YAAY,CAAC,GAAG,CAAC,EAAE;UACtC,MAAM,CAAC,iBAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,CAAA;SACxD;OACF,MAAM,IAAI,GAAG,KAAK,YAAY,EAAE;;QAEjC,IAAM,OAAO,MAAM,CAAC,CAAC,KAAK,WAAW,EAAE;UACrC,KAAO,CAAC,gHAAgH,CAAC,CAAA;SACxH,MAAM;UACP,MAAM,CAAC,GAAG,CAAC,0EAA0E,CAAC,CAAA;UACtF,MAAM,CAAC,sBAAsB,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAA;SAC/C;OACF;KACF;GACF;CACF,CAAA;;AAEH,8BAAE,GAAG,iBAAE,GAAG,EAAE;EACV,IAAM,IAAI,CAAC,YAAY,KAAK,IAAI,EAAE;IAChC,OAAS,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAA;GAClD;CACF,CAAA;;;;;;;AAOH,8BAAE,sBAAsB,oCAAE,gBAAgB,EAAE;;;EAC1C,IAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAA;;EAElB,KAAOA,IAAI,GAAG,IAAI,gBAAgB,EAAE;IAClC,IAAM,MAAM,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAA;IACpC,IAAM,IAAI,GAAK,GAAG,CAAA;;IAElB,KAAOA,IAAI,KAAK,IAAI,MAAM,EAAE;MAC1B,IAAM,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;;MAElC,IAAM,KAAK,KAAK,GAAG,EAAE;QACnB,IAAM,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;UACrC,MAAM,CAAC,GAAG,CAAC,yBAAyB,GAAG,IAAI,GAAG,GAAG,CAAC,CAAA;UAClD,MAAM,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAA;SAC9C;OACF,MAAM;QACP,IAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;;;QAGjC,IAAM,QAAQ,GAAG,EAAE,CAAA;QACnB,QAAU,IAAI;UACZ,KAAO,OAAO,GAAG;YACf,KAAOA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;cAC1C,QAAU,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAA;aACrC;WACF;YACD,KAAO;UACT,KAAO,IAAI,GAAG;YACZ,KAAOA,IAAIC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAEA,GAAC,EAAE;cAC1C,QAAU,IAAI,GAAG,GAAG,QAAQ,CAACA,GAAC,CAAC,GAAG,IAAI,CAAA;aACrC;WACF;YACD,KAAO;UACT,UAAY;YACV,KAAOD,IAAIC,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAEA,GAAC,EAAE;cAC1C,QAAU,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,QAAQ,CAACA,GAAC,CAAC,GAAG,KAAK,CAAA;aACpD;WACF;SACF;QACH,QAAU,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;QAClC,IAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;UAC5B,MAAM,CAAC,GAAG,CAAC,kBAAkB,GAAG,QAAQ,CAAC,CAAA;UACzC,MAAM,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAA;SAC9C;OACF;KACF;GACF;CACF,CAAA;;;;;;;AAOH,8BAAE,0BAA0B,wCAAE,eAAe,EAAE;;;EAC7C,KAAOD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;IACjD,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAA;GACxC;CACF,CAAA;;;;;;;;;AASH,8BAAE,iBAAiB,+BAAE,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE;;;EAC5C,IAAM,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;IAChC,KAAOA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;MACnD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;KAC1C;GACF;CACF,CAAA;;;;;;;AAOH,8BAAE,cAAc,4BAAE,IAAI,EAAE;EACtB,IAAM,CAAC,IAAI,CAAC,aAAa,EAAE,EAAA,IAAI,CAAC,aAAa,GAAG,EAAE,CAAA,EAAA;;EAElD,IAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;IAC7C,IAAM;MACJ,IAAM,IAAI,CAAA;KACT,CAAC,OAAO,CAAC,EAAE;MACZ,OAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;KACjB;IACH,IAAM,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;GAC9B;CACF,CAAA;;;;;;;;;AASH,8BAAE,UAAU,wBAAE,IAAI,EAAE,GAAG,EAAE;;;;;EAGvB,IAAM,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;;IAE3B,GAAK,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;;IAExC,IAAM,GAAG,KAAK,GAAG,IAAI,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,EAAA,OAAO,IAAI,EAAA;;IAE9E,IAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAA,OAAO,IAAI,EAAA;SACnC,EAAA,SAAS,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAA;GACxC;;;EAGH,IAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,EAAA,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,EAAA;;;EAG7D,IAAM,KAAK,GAAG,KAAK,CAAA;EACnB,IAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE;IACxC,IAAME,MAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,EAAA,KAAK,GAAG,IAAI,CAAA,EAAA;GAC7C,CAAC,CAAA;;EAEJ,OAAS,KAAK;CACb,CAAA;;;;;;;;AAQH,8BAAE,YAAY,0BAAE,GAAG,EAAE;;;EACnB,IAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;EAChC,IAAM,GAAG,OAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAA;;EAEnD,SAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE;IACnD,GAAK,CAAC,IAAI,CAACA,MAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC,CAAA;GAChD,CAAC,CAAA;EACJ,OAAS,GAAG;CACX,CAAA;;;;;;;;AAQH,8BAAE,OAAO,qBAAE,IAAI,EAAE,GAAG,EAAE;;EAEpB,GAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;EAC9B,IAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,EAAA,QAAQ,IAAI,KAAK,GAAG,CAAC,EAAA;;;EAGpD,GAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;;;EAG5C,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;EAC7B,KAAO,CAAC,GAAG,EAAE,CAAA;;EAEb,IAAM,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAA;;EAE3C,QAAU,IAAI,KAAK,GAAG,CAAC;CACtB,CAAA;;;;;;;;;AASH,8BAAE,OAAO,qBAAE,GAAG,EAAE,QAAQ,EAAE;EACxB,IAAM,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,CAAC,KAAK,QAAQ;IACxE,EAAE,OAAO,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,EAAA;EACzD,OAAS,GAAG;CACX,CAAA;;","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9tbnQvNEU2RTQ1RDM2RTQ1QjQ4RC9Xb3JrL3F1aWxrLWZyb250ZW5kLXJvdXRlci9saWIvcXVpbGstZnJvbnRlbmQtcm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1aWxrRnJvbnRlbmRSb3V0ZXIge1xyXG5cclxuICAvKipcclxuICAgKiBMb29wcyBvdmVyIGEgcm91dGVzT2JqZWN0IHByb3ZpZGVkIGNhbGxpbmcgYW55IGNsYXNzZXMgdGhhdCBtYXRjaCB0aGUgY3VycmVudCBicm93c2VyIHVybFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yIChyb3V0ZXNPYmplY3QsIHZlcmJvc2UgPSBmYWxzZSkge1xyXG5cclxuICAgIHRoaXMudmVyYm9zZV9tb2RlID0gdmVyYm9zZVxyXG5cclxuICAgIGxldCBwYXRoID0gdGhpcy50cmltRW5kKFN0cmluZyh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpLCAnLycpXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gcm91dGVzT2JqZWN0KSB7XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3V0ZXNPYmplY3Rba2V5XSkpIHtcclxuICAgICAgICB0aGlzLmxvZygnU2ltcGxlIG51bWVyaWMgYXJyYXkgcGF0aCBtYXRjaGluZycpXHJcbiAgICAgICAgdGhpcy5ydW5fcGF0aF9tYXRjaGVycyhyb3V0ZXNPYmplY3QsIHBhdGgsIGtleSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoa2V5ID09PSAncGF0aCcpIHtcclxuICAgICAgICAgIHRoaXMubG9nKCdLZXkgaGl0IFwicGF0aFwiLCBwYXNzaW5nIFwicGF0aFwiIG9iamVjdCB0byB0aGUgcm91dGluZyBtYXRjaGVyJylcclxuICAgICAgICAgIGZvciAobGV0IHN1YmtleSBpbiByb3V0ZXNPYmplY3Rba2V5XSkge1xyXG4gICAgICAgICAgICB0aGlzLnJ1bl9wYXRoX21hdGNoZXJzKHJvdXRlc09iamVjdFtrZXldLCBwYXRoLCBzdWJrZXkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdhdHRyaWJ1dGVzJykge1xyXG4gICAgICAgICAgLy8gY2hlY2sgd2UgaGF2ZSBqcXVlcnkgZWxzZSBhbGVydCBhbiBlcnJvclxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuJCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ1RvIHVzZSBhdHRyaWJ1dGUgc2VsZWN0aW9uIHdpdGggdGhlIFF1aWxrRnJvbnRlbmRSb3V0ZXIgcGxlYXNlIGVuc3VyZSB5b3UgbG9hZCBpbiBqcXVlcnkgdG8gdGhlIHdpbmRvdyBvYmplY3QuJylcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nKCdLZXkgaGl0IFwiYXR0cmlidXRlc1wiLCBwYXNzaW5nIFwiYXR0cmlidXRlc1wiIG9iamVjdCB0byB0aGUgcm91dGluZyBtYXRjaGVyJylcclxuICAgICAgICAgICAgdGhpcy5ydW5fYXR0cmlidXRlX21hdGNoZXJzKHJvdXRlc09iamVjdFtrZXldKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbG9nIChtc2cpIHtcclxuICAgIGlmICh0aGlzLnZlcmJvc2VfbW9kZSA9PT0gdHJ1ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnUXVpbGtGcm9udGVuZFJvdXRlciBtZXNzYWdlOiAnLCBtc2cpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXNlcyBjbGFzc2VzIGJhc2VkIG9uIHRoZSBhdHRyaWJ1dGVzIGdpdmVuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gYXR0cmlidXRlc09iamVjdFxyXG4gICAqL1xyXG4gIHJ1bl9hdHRyaWJ1dGVfbWF0Y2hlcnMgKGF0dHJpYnV0ZXNPYmplY3QpIHtcclxuICAgIGxldCAkID0gd2luZG93LiRcclxuXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gYXR0cmlidXRlc09iamVjdCkge1xyXG4gICAgICBsZXQgdmFsdWVzID0gYXR0cmlidXRlc09iamVjdFtrZXldXHJcbiAgICAgIGxldCBhdHRyICAgPSBrZXlcclxuXHJcbiAgICAgIGZvciAobGV0IHZhbHVlIGluIHZhbHVlcykge1xyXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvcnMgPSB2YWx1ZXNbdmFsdWVdXHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJyonKSB7XHJcbiAgICAgICAgICBpZiAoJCgnKlsnICsgYXR0ciArICddJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZygnV2lsZGNhcmQgaGl0IGZvciBhdHRyIFwiJyArIGF0dHIgKyAnXCInKVxyXG4gICAgICAgICAgICB0aGlzLnJ1bl9hdHRyaWJ1dGVfY29uc3RydWN0b3JzKGNvbnN0cnVjdG9ycylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHZhbHVlQXJyID0gdmFsdWUuc3BsaXQoJyAnKVxyXG5cclxuICAgICAgICAgIC8vIHJ1biBhZ2FpbnN0IGNsYXNzZXNcclxuICAgICAgICAgIGxldCBzZWxlY3RvciA9ICcnXHJcbiAgICAgICAgICBzd2l0Y2ggKGF0dHIpIHtcclxuICAgICAgICAgICAgY2FzZSAnY2xhc3MnIDoge1xyXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVBcnIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9ICcuJyArIHZhbHVlQXJyW2ldICsgJywgJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkJyA6IHtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlQXJyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciArPSAnIycgKyB2YWx1ZUFycltpXSArICcsICdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBkZWZhdWx0IDoge1xyXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVBcnIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9ICcqWycgKyBhdHRyICsgJz0nICsgdmFsdWVBcnJbaV0gKyAnXSwgJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSgwLCAtMilcclxuICAgICAgICAgIGlmICgkKHNlbGVjdG9yKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nKCdBdHRyICsgdmFsIGhpdDogJyArIHNlbGVjdG9yKVxyXG4gICAgICAgICAgICB0aGlzLnJ1bl9hdHRyaWJ1dGVfY29uc3RydWN0b3JzKGNvbnN0cnVjdG9ycylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBhc3MgYW4gbnVtZXJpYyBhcnJheSBvZiBjbGFzcyB0byBpbml0aWFsaXplXHJcbiAgICpcclxuICAgKiBAcGFyYW0gY29uc3RydWN0b3JzQXJyXHJcbiAgICovXHJcbiAgcnVuX2F0dHJpYnV0ZV9jb25zdHJ1Y3RvcnMgKGNvbnN0cnVjdG9yc0Fycikge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25zdHJ1Y3RvcnNBcnIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgdGhpcy5zdGFydF9pbnN0YW5jZShjb25zdHJ1Y3RvcnNBcnJbaV0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSdW5zIGNoZWNrcyBhZ2FpbnN0IHRoZSBrZXkgYW5kIHRoZSBwYXRoXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcm91dGVzT2JqZWN0XHJcbiAgICogQHBhcmFtIHBhdGhcclxuICAgKiBAcGFyYW0ga2V5XHJcbiAgICovXHJcbiAgcnVuX3BhdGhfbWF0Y2hlcnMgKHJvdXRlc09iamVjdCwgcGF0aCwga2V5KSB7XHJcbiAgICBpZiAodGhpcy5wYXRoX21hdGNoKHBhdGgsIGtleSkpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZXNPYmplY3Rba2V5XS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRfaW5zdGFuY2Uocm91dGVzT2JqZWN0W2tleV1baV0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIG5ldyBvbiBhIGNsYXNzXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW5pdFxyXG4gICAqL1xyXG4gIHN0YXJ0X2luc3RhbmNlIChpbml0KSB7XHJcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2VzX3J1bikgdGhpcy5pbnN0YW5jZXNfcnVuID0gW11cclxuXHJcbiAgICBpZiAodGhpcy5pbnN0YW5jZXNfcnVuLmluZGV4T2YoaW5pdCkgPT09IC0xKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbmV3IGluaXRcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmluc3RhbmNlc19ydW4ucHVzaChpbml0KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBwYXRoIG1hdGNoZXMgdGhlIGtleVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHBhdGhcclxuICAgKiBAcGFyYW0ga2V5XHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICovXHJcbiAgcGF0aF9tYXRjaCAocGF0aCwga2V5KSB7XHJcblxyXG4gICAgLy9oYW5kbGUgdHJhaWxpbmcgd2lsZGNhcmRzXHJcbiAgICBpZiAoa2V5LnNsaWNlKC0xKSA9PT0gJyonKSB7XHJcblxyXG4gICAgICBrZXkgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sZW5ndGggLSAxKVxyXG5cclxuICAgICAgaWYgKGtleSA9PT0gJy8nICYmIHBhdGggIT09ICcvJyAmJiBwYXRoLnNwbGl0KCcvJykubGVuZ3RoID09PSAyKSByZXR1cm4gdHJ1ZVxyXG5cclxuICAgICAgaWYgKHRoaXMuY29tcGFyZShwYXRoLCBrZXkpKSByZXR1cm4gdHJ1ZVxyXG4gICAgICBlbHNlIHJldHVybiAoIHBhdGguaW5kZXhPZihrZXkpID09PSAwIClcclxuICAgIH1cclxuXHJcbiAgICAvL2hhbmRsZSBzdGQgcm91dGVcclxuICAgIGlmIChrZXkuaW5kZXhPZignKCcpID09PSAtMSkgcmV0dXJuIHRoaXMuY29tcGFyZShwYXRoLCBrZXkpXHJcblxyXG4gICAgLy9oYW5kbGUga2V5IHdpdGggcGFyYW1zIGVnICgpXHJcbiAgICBsZXQgbWF0Y2ggPSBmYWxzZVxyXG4gICAgdGhpcy5rZXlfdG9fcGF0aHMoa2V5KS5mb3JFYWNoKChrX3BhdGgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuY29tcGFyZShwYXRoLCBrX3BhdGgpKSBtYXRjaCA9IHRydWVcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIG1hdGNoXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUYWtlcyBhIGtleSBmcm9tIHRoZSBjb25zdGFudHMgYW5kIHJldHVybnMgYSBudW1lcmljIGFycmF5IG9mIGFsbCBwb3NzaWJsZSBwYXRoc1xyXG4gICAqXHJcbiAgICogQHBhcmFtIGtleVxyXG4gICAqIEByZXR1cm5zIHtbKl19XHJcbiAgICovXHJcbiAga2V5X3RvX3BhdGhzIChrZXkpIHtcclxuICAgIGxldCBrZXlfcGFydHMgPSBrZXkuc3BsaXQoJygnKVxyXG4gICAgbGV0IHJldCAgICAgICA9IFt0aGlzLnRyaW1FbmQoa2V5X3BhcnRzWzBdLCAnLycpXVxyXG4gICAgLy93YWxrIG92ZXIgZWFjaCBwcm92aWRlZCBzZWdtZW50IGluIHRoZSAoKSB8IHNlcGFyYXRlZCBwYXJhbXMsIGVuc3VyaW5nIHRoZSBsYXN0ICkgY2hhciBpcyBzdHJpcHBlZFxyXG4gICAga2V5X3BhcnRzWzFdLnNsaWNlKDAsIC0xKS5zcGxpdCgnfCcpLmZvckVhY2goKHNlZykgPT4ge1xyXG4gICAgICByZXQucHVzaCh0aGlzLnRyaW1FbmQoa2V5X3BhcnRzWzBdICsgc2VnLCAnLycpKVxyXG4gICAgfSlcclxuICAgIHJldHVybiByZXRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXBhcmVzIGEgZ2l2ZW4ga2V5IGFuZCBwYXRoLiBJZiB0aGUga2F5IGNvbnRhaW5zIGEgOiBzZXBhcmF0ZWQgcGFyYW0gdGhpcyBpcyByZW1vdmVkIGZpcnN0IGZyb20gdGhlIGtleSBhbmQgcGF0aCBiZWZvcmUgY29tcGFyaXNvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBwYXRoXHJcbiAgICogQHBhcmFtIGtleVxyXG4gICAqL1xyXG4gIGNvbXBhcmUgKHBhdGgsIGtleSkge1xyXG5cclxuICAgIGtleSA9IHRoaXMudHJpbUVuZChrZXksICcvJylcclxuICAgIGlmIChrZXkuaW5kZXhPZignOicpID09PSAtMSkgcmV0dXJuIChwYXRoID09PSBrZXkpXHJcblxyXG4gICAgLy93ZSBoYXZlIGZvdW5kIGEga2V5IHdpdGggYSBwYXJhbSwgc3RyaXAgcGFyYW0gZnJvbSBwYXRoIGFuZCBrZXksIHRoZW4gcmUtY29tcGFyZWRcclxuICAgIGtleSA9IHRoaXMudHJpbUVuZChrZXkuc3BsaXQoJzonKVswXSwgJy8nKVxyXG5cclxuICAgIC8vc3RyaXAgdGhlIHRyaWFsaW5nIHVybCBzZWdtZW50XHJcbiAgICBsZXQgcGF0aHMgPSBwYXRoLnNwbGl0KCcvJylcclxuICAgIHBhdGhzLnBvcCgpXHJcblxyXG4gICAgcGF0aCA9IHRoaXMudHJpbUVuZChwYXRocy5qb2luKCcvJyksICcvJylcclxuXHJcbiAgICByZXR1cm4gKHBhdGggPT09IGtleSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyaW1zIHRoZSBlbmQgb2YgdGhlIHN0cmluZyBpZiBtYXRjaGVkIHRvIHRoZSBzdHIydHJpbS4gQ2xvbmUgb2YgdGhlIGxvZGFzaCB0cmltRW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gc3RyXHJcbiAgICogQHBhcmFtIHN0cjJUcmltXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICB0cmltRW5kIChzdHIsIHN0cjJUcmltKSB7XHJcbiAgICBpZiAoc3RyLnN1YnN0cmluZyhzdHIubGVuZ3RoIC0gc3RyMlRyaW0ubGVuZ3RoLCBzdHIubGVuZ3RoKSA9PT0gc3RyMlRyaW0pXHJcbiAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSBzdHIyVHJpbS5sZW5ndGgpXHJcbiAgICByZXR1cm4gc3RyXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImxldCIsImkiLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBZSxJQUFNLG1CQUFtQixHQUFDLDRCQUs1QixFQUFFLFlBQVksRUFBRSxPQUFlLEVBQUU7b0JBQVY7bUNBQUEsR0FBRyxLQUFLOzs7RUFFMUMsSUFBTSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUE7O0VBRTdCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUE7RUFDaEUsS0FBT0EsSUFBSSxHQUFHLElBQUksWUFBWSxFQUFFOztJQUU5QixJQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7TUFDdEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFBO01BQ2hELE1BQU0sQ0FBQyxp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"}