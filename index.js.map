{"version":3,"file":"index.js","sources":["quilk-frontend-router.js"],"sourcesContent":["export default class QuilkFrontendRouter {\r\n\r\n  /**\r\n   * Loops over a routesObject provided calling any classes that match the current browser url\r\n   */\r\n  constructor (routesObject, verbose = false) {\r\n\r\n    this.verbose_mode = verbose\r\n\r\n    let path = this.trimEnd(String(window.location.pathname), '/')\r\n    for (let key in routesObject) {\r\n\r\n      if (Array.isArray(routesObject[key])) {\r\n        this.log('Simple numeric array path matching')\r\n        this.run_path_matchers(routesObject, path, key)\r\n      } else {\r\n        if (key === 'path') {\r\n          this.log('Key hit \"path\", passing \"path\" object to the routing matcher')\r\n          for (let subkey in routesObject[key]) {\r\n            this.run_path_matchers(routesObject[key], path, subkey)\r\n          }\r\n        } else if( key === 'attributes' ) {\r\n          // check we have jquery else alert an error\r\n          if (typeof window.$ === 'undefined') {\r\n            alert('To use attribute selection with the QuilkFrontendRouter please ensure you load in jquery to the window object.')\r\n          } else {\r\n            this.log('Key hit \"attributes\", passing \"attributes\" object to the routing matcher')\r\n            this.run_attribute_matchers(routesObject[key])\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  log (msg) {\r\n    if (this.verbose_mode === true) {\r\n      console.log('QuilkFrontendRouter message: ', msg)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialises classes based on the attributes given\r\n   *\r\n   * @param attributesObject\r\n   */\r\n  run_attribute_matchers (attributesObject) {\r\n    let $ = window.$\r\n\r\n    for (let key in attributesObject) {\r\n      let values = attributesObject[key]\r\n      let attr = key\r\n\r\n      for (let value in values) {\r\n        let constructors = values[value]\r\n\r\n        if (value === '*') {\r\n          if( $('*['+attr+']').length > 0 ){\r\n            this.log('Wildcard hit for attr \"'+attr+'\"')\r\n            this.run_attribute_constructors(constructors)\r\n          }\r\n        } else {\r\n          let valueArr = value.split(' ')\r\n\r\n          // run against classes\r\n          let selector = ''\r\n          switch (attr) {\r\n            case 'class' : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '.' + valueArr[i] + ', '\r\n              }\r\n            }\r\n              break\r\n            case 'id' : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '#' + valueArr[i] + ', '\r\n              }\r\n            }\r\n              break\r\n            default : {\r\n              for (let i = 0; i < valueArr.length; ++i) {\r\n                selector += '*[' + attr + '=' + valueArr[i] + '], '\r\n              }\r\n            }\r\n          }\r\n          selector = selector.slice(0, -2)\r\n          if ($(selector).length > 0) {\r\n            this.log('Attr + val hit: '+selector)\r\n            this.run_attribute_constructors(constructors)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pass an numeric array of class to initialize\r\n   *\r\n   * @param constructorsArr\r\n   */\r\n  run_attribute_constructors (constructorsArr) {\r\n    for (let i = 0; i < constructorsArr.length; ++i) {\r\n      this.start_instance(constructorsArr[i])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Runs checks against the key and the path\r\n   *\r\n   * @param routesObject\r\n   * @param path\r\n   * @param key\r\n   */\r\n  run_path_matchers (routesObject, path, key) {\r\n    if (this.path_match(path, key)) {\r\n      for (let i = 0; i < routesObject[key].length; ++i) {\r\n        this.start_instance(routesObject[key][i])\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calls new on a class\r\n   *\r\n   * @param init\r\n   */\r\n  start_instance (init) {\r\n    try {\r\n      new init\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns true if the provided path matches the key\r\n   *\r\n   * @param path\r\n   * @param key\r\n   * @returns {boolean}\r\n   */\r\n  path_match (path, key) {\r\n\r\n    //handle trailing wildcards\r\n    if (key.slice(-1) === '*') {\r\n\r\n      key = key.substring(0, key.length - 1)\r\n\r\n      if (key === '/' && path !== '/' && path.split('/').length === 2) return true\r\n\r\n      if (this.compare(path, key)) return true\r\n      else return ( path.indexOf(key) === 0 )\r\n    }\r\n\r\n    //handle std route\r\n    if (key.indexOf('(') === -1) return this.compare(path, key)\r\n\r\n    //handle key with params eg ()\r\n    let match = false\r\n    this.key_to_paths(key).forEach((k_path) => {\r\n      if (this.compare(path, k_path)) match = true\r\n    })\r\n\r\n    return match\r\n  }\r\n\r\n  /**\r\n   * Takes a key from the constants and returns a numeric array of all possible paths\r\n   *\r\n   * @param key\r\n   * @returns {[*]}\r\n   */\r\n  key_to_paths (key) {\r\n    let key_parts = key.split('(')\r\n    let ret = [this.trimEnd(key_parts[0], '/')]\r\n    //walk over each provided segment in the () | separated params, ensuring the last ) char is stripped\r\n    key_parts[1].slice(0, -1).split('|').forEach((seg) => {\r\n      ret.push(this.trimEnd(key_parts[0] + seg, '/'))\r\n    })\r\n    return ret\r\n  }\r\n\r\n  /**\r\n   * Compares a given key and path. If the kay contains a : separated param this is removed first from the key and path before comparison.\r\n   *\r\n   * @param path\r\n   * @param key\r\n   */\r\n  compare (path, key) {\r\n\r\n    key = this.trimEnd(key, '/')\r\n    if (key.indexOf(':') === -1) return (path === key)\r\n\r\n    //we have found a key with a param, strip param from path and key, then re-compared\r\n    key = this.trimEnd(key.split(':')[0], '/')\r\n\r\n    //strip the trialing url segment\r\n    let paths = path.split('/')\r\n    paths.pop()\r\n\r\n    path = this.trimEnd(paths.join('/'), '/')\r\n\r\n    return (path === key)\r\n  }\r\n\r\n  /**\r\n   * Trims the end of the string if matched to the str2trim. Clone of the lodash trimEnd function\r\n   *\r\n   * @param str\r\n   * @param str2Trim\r\n   * @returns {string}\r\n   */\r\n  trimEnd (str, str2Trim) {\r\n    if (str.substring(str.length - str2Trim.length, str.length) === str2Trim)\r\n      return str.substring(0, str.length - str2Trim.length)\r\n    return str\r\n  }\r\n}"],"names":["let","i","this"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIkM6L2NvZGVfcHJpdmF0ZS9xdWlsay1yb3V0ZXIvbGliL3F1aWxrLWZyb250ZW5kLXJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBRdWlsa0Zyb250ZW5kUm91dGVyIHtcclxuXHJcbiAgLyoqXHJcbiAgICogTG9vcHMgb3ZlciBhIHJvdXRlc09iamVjdCBwcm92aWRlZCBjYWxsaW5nIGFueSBjbGFzc2VzIHRoYXQgbWF0Y2ggdGhlIGN1cnJlbnQgYnJvd3NlciB1cmxcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciAocm91dGVzT2JqZWN0LCB2ZXJib3NlID0gZmFsc2UpIHtcclxuXHJcbiAgICB0aGlzLnZlcmJvc2VfbW9kZSA9IHZlcmJvc2VcclxuXHJcbiAgICBsZXQgcGF0aCA9IHRoaXMudHJpbUVuZChTdHJpbmcod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSwgJy8nKVxyXG4gICAgZm9yIChsZXQga2V5IGluIHJvdXRlc09iamVjdCkge1xyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm91dGVzT2JqZWN0W2tleV0pKSB7XHJcbiAgICAgICAgdGhpcy5sb2coJ1NpbXBsZSBudW1lcmljIGFycmF5IHBhdGggbWF0Y2hpbmcnKVxyXG4gICAgICAgIHRoaXMucnVuX3BhdGhfbWF0Y2hlcnMocm91dGVzT2JqZWN0LCBwYXRoLCBrZXkpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ3BhdGgnKSB7XHJcbiAgICAgICAgICB0aGlzLmxvZygnS2V5IGhpdCBcInBhdGhcIiwgcGFzc2luZyBcInBhdGhcIiBvYmplY3QgdG8gdGhlIHJvdXRpbmcgbWF0Y2hlcicpXHJcbiAgICAgICAgICBmb3IgKGxldCBzdWJrZXkgaW4gcm91dGVzT2JqZWN0W2tleV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ydW5fcGF0aF9tYXRjaGVycyhyb3V0ZXNPYmplY3Rba2V5XSwgcGF0aCwgc3Via2V5KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZigga2V5ID09PSAnYXR0cmlidXRlcycgKSB7XHJcbiAgICAgICAgICAvLyBjaGVjayB3ZSBoYXZlIGpxdWVyeSBlbHNlIGFsZXJ0IGFuIGVycm9yXHJcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy4kID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBhbGVydCgnVG8gdXNlIGF0dHJpYnV0ZSBzZWxlY3Rpb24gd2l0aCB0aGUgUXVpbGtGcm9udGVuZFJvdXRlciBwbGVhc2UgZW5zdXJlIHlvdSBsb2FkIGluIGpxdWVyeSB0byB0aGUgd2luZG93IG9iamVjdC4nKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2coJ0tleSBoaXQgXCJhdHRyaWJ1dGVzXCIsIHBhc3NpbmcgXCJhdHRyaWJ1dGVzXCIgb2JqZWN0IHRvIHRoZSByb3V0aW5nIG1hdGNoZXInKVxyXG4gICAgICAgICAgICB0aGlzLnJ1bl9hdHRyaWJ1dGVfbWF0Y2hlcnMocm91dGVzT2JqZWN0W2tleV0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb2cgKG1zZykge1xyXG4gICAgaWYgKHRoaXMudmVyYm9zZV9tb2RlID09PSB0cnVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdRdWlsa0Zyb250ZW5kUm91dGVyIG1lc3NhZ2U6ICcsIG1zZylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpc2VzIGNsYXNzZXMgYmFzZWQgb24gdGhlIGF0dHJpYnV0ZXMgZ2l2ZW5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVzT2JqZWN0XHJcbiAgICovXHJcbiAgcnVuX2F0dHJpYnV0ZV9tYXRjaGVycyAoYXR0cmlidXRlc09iamVjdCkge1xyXG4gICAgbGV0ICQgPSB3aW5kb3cuJFxyXG5cclxuICAgIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzT2JqZWN0KSB7XHJcbiAgICAgIGxldCB2YWx1ZXMgPSBhdHRyaWJ1dGVzT2JqZWN0W2tleV1cclxuICAgICAgbGV0IGF0dHIgPSBrZXlcclxuXHJcbiAgICAgIGZvciAobGV0IHZhbHVlIGluIHZhbHVlcykge1xyXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvcnMgPSB2YWx1ZXNbdmFsdWVdXHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJyonKSB7XHJcbiAgICAgICAgICBpZiggJCgnKlsnK2F0dHIrJ10nKS5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgIHRoaXMubG9nKCdXaWxkY2FyZCBoaXQgZm9yIGF0dHIgXCInK2F0dHIrJ1wiJylcclxuICAgICAgICAgICAgdGhpcy5ydW5fYXR0cmlidXRlX2NvbnN0cnVjdG9ycyhjb25zdHJ1Y3RvcnMpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxldCB2YWx1ZUFyciA9IHZhbHVlLnNwbGl0KCcgJylcclxuXHJcbiAgICAgICAgICAvLyBydW4gYWdhaW5zdCBjbGFzc2VzXHJcbiAgICAgICAgICBsZXQgc2VsZWN0b3IgPSAnJ1xyXG4gICAgICAgICAgc3dpdGNoIChhdHRyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NsYXNzJyA6IHtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlQXJyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciArPSAnLicgKyB2YWx1ZUFycltpXSArICcsICdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlICdpZCcgOiB7XHJcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZUFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgKz0gJyMnICsgdmFsdWVBcnJbaV0gKyAnLCAnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgZGVmYXVsdCA6IHtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlQXJyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciArPSAnKlsnICsgYXR0ciArICc9JyArIHZhbHVlQXJyW2ldICsgJ10sICdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoMCwgLTIpXHJcbiAgICAgICAgICBpZiAoJChzZWxlY3RvcikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZygnQXR0ciArIHZhbCBoaXQ6ICcrc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIHRoaXMucnVuX2F0dHJpYnV0ZV9jb25zdHJ1Y3RvcnMoY29uc3RydWN0b3JzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGFzcyBhbiBudW1lcmljIGFycmF5IG9mIGNsYXNzIHRvIGluaXRpYWxpemVcclxuICAgKlxyXG4gICAqIEBwYXJhbSBjb25zdHJ1Y3RvcnNBcnJcclxuICAgKi9cclxuICBydW5fYXR0cmlidXRlX2NvbnN0cnVjdG9ycyAoY29uc3RydWN0b3JzQXJyKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnN0cnVjdG9yc0Fyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICB0aGlzLnN0YXJ0X2luc3RhbmNlKGNvbnN0cnVjdG9yc0FycltpXSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJ1bnMgY2hlY2tzIGFnYWluc3QgdGhlIGtleSBhbmQgdGhlIHBhdGhcclxuICAgKlxyXG4gICAqIEBwYXJhbSByb3V0ZXNPYmplY3RcclxuICAgKiBAcGFyYW0gcGF0aFxyXG4gICAqIEBwYXJhbSBrZXlcclxuICAgKi9cclxuICBydW5fcGF0aF9tYXRjaGVycyAocm91dGVzT2JqZWN0LCBwYXRoLCBrZXkpIHtcclxuICAgIGlmICh0aGlzLnBhdGhfbWF0Y2gocGF0aCwga2V5KSkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlc09iamVjdFtrZXldLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydF9pbnN0YW5jZShyb3V0ZXNPYmplY3Rba2V5XVtpXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbHMgbmV3IG9uIGEgY2xhc3NcclxuICAgKlxyXG4gICAqIEBwYXJhbSBpbml0XHJcbiAgICovXHJcbiAgc3RhcnRfaW5zdGFuY2UgKGluaXQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIG5ldyBpbml0XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgcGF0aCBtYXRjaGVzIHRoZSBrZXlcclxuICAgKlxyXG4gICAqIEBwYXJhbSBwYXRoXHJcbiAgICogQHBhcmFtIGtleVxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHBhdGhfbWF0Y2ggKHBhdGgsIGtleSkge1xyXG5cclxuICAgIC8vaGFuZGxlIHRyYWlsaW5nIHdpbGRjYXJkc1xyXG4gICAgaWYgKGtleS5zbGljZSgtMSkgPT09ICcqJykge1xyXG5cclxuICAgICAga2V5ID0ga2V5LnN1YnN0cmluZygwLCBrZXkubGVuZ3RoIC0gMSlcclxuXHJcbiAgICAgIGlmIChrZXkgPT09ICcvJyAmJiBwYXRoICE9PSAnLycgJiYgcGF0aC5zcGxpdCgnLycpLmxlbmd0aCA9PT0gMikgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgIGlmICh0aGlzLmNvbXBhcmUocGF0aCwga2V5KSkgcmV0dXJuIHRydWVcclxuICAgICAgZWxzZSByZXR1cm4gKCBwYXRoLmluZGV4T2Yoa2V5KSA9PT0gMCApXHJcbiAgICB9XHJcblxyXG4gICAgLy9oYW5kbGUgc3RkIHJvdXRlXHJcbiAgICBpZiAoa2V5LmluZGV4T2YoJygnKSA9PT0gLTEpIHJldHVybiB0aGlzLmNvbXBhcmUocGF0aCwga2V5KVxyXG5cclxuICAgIC8vaGFuZGxlIGtleSB3aXRoIHBhcmFtcyBlZyAoKVxyXG4gICAgbGV0IG1hdGNoID0gZmFsc2VcclxuICAgIHRoaXMua2V5X3RvX3BhdGhzKGtleSkuZm9yRWFjaCgoa19wYXRoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbXBhcmUocGF0aCwga19wYXRoKSkgbWF0Y2ggPSB0cnVlXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBtYXRjaFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGFrZXMgYSBrZXkgZnJvbSB0aGUgY29uc3RhbnRzIGFuZCByZXR1cm5zIGEgbnVtZXJpYyBhcnJheSBvZiBhbGwgcG9zc2libGUgcGF0aHNcclxuICAgKlxyXG4gICAqIEBwYXJhbSBrZXlcclxuICAgKiBAcmV0dXJucyB7WypdfVxyXG4gICAqL1xyXG4gIGtleV90b19wYXRocyAoa2V5KSB7XHJcbiAgICBsZXQga2V5X3BhcnRzID0ga2V5LnNwbGl0KCcoJylcclxuICAgIGxldCByZXQgPSBbdGhpcy50cmltRW5kKGtleV9wYXJ0c1swXSwgJy8nKV1cclxuICAgIC8vd2FsayBvdmVyIGVhY2ggcHJvdmlkZWQgc2VnbWVudCBpbiB0aGUgKCkgfCBzZXBhcmF0ZWQgcGFyYW1zLCBlbnN1cmluZyB0aGUgbGFzdCApIGNoYXIgaXMgc3RyaXBwZWRcclxuICAgIGtleV9wYXJ0c1sxXS5zbGljZSgwLCAtMSkuc3BsaXQoJ3wnKS5mb3JFYWNoKChzZWcpID0+IHtcclxuICAgICAgcmV0LnB1c2godGhpcy50cmltRW5kKGtleV9wYXJ0c1swXSArIHNlZywgJy8nKSlcclxuICAgIH0pXHJcbiAgICByZXR1cm4gcmV0XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wYXJlcyBhIGdpdmVuIGtleSBhbmQgcGF0aC4gSWYgdGhlIGtheSBjb250YWlucyBhIDogc2VwYXJhdGVkIHBhcmFtIHRoaXMgaXMgcmVtb3ZlZCBmaXJzdCBmcm9tIHRoZSBrZXkgYW5kIHBhdGggYmVmb3JlIGNvbXBhcmlzb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcGF0aFxyXG4gICAqIEBwYXJhbSBrZXlcclxuICAgKi9cclxuICBjb21wYXJlIChwYXRoLCBrZXkpIHtcclxuXHJcbiAgICBrZXkgPSB0aGlzLnRyaW1FbmQoa2V5LCAnLycpXHJcbiAgICBpZiAoa2V5LmluZGV4T2YoJzonKSA9PT0gLTEpIHJldHVybiAocGF0aCA9PT0ga2V5KVxyXG5cclxuICAgIC8vd2UgaGF2ZSBmb3VuZCBhIGtleSB3aXRoIGEgcGFyYW0sIHN0cmlwIHBhcmFtIGZyb20gcGF0aCBhbmQga2V5LCB0aGVuIHJlLWNvbXBhcmVkXHJcbiAgICBrZXkgPSB0aGlzLnRyaW1FbmQoa2V5LnNwbGl0KCc6JylbMF0sICcvJylcclxuXHJcbiAgICAvL3N0cmlwIHRoZSB0cmlhbGluZyB1cmwgc2VnbWVudFxyXG4gICAgbGV0IHBhdGhzID0gcGF0aC5zcGxpdCgnLycpXHJcbiAgICBwYXRocy5wb3AoKVxyXG5cclxuICAgIHBhdGggPSB0aGlzLnRyaW1FbmQocGF0aHMuam9pbignLycpLCAnLycpXHJcblxyXG4gICAgcmV0dXJuIChwYXRoID09PSBrZXkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmltcyB0aGUgZW5kIG9mIHRoZSBzdHJpbmcgaWYgbWF0Y2hlZCB0byB0aGUgc3RyMnRyaW0uIENsb25lIG9mIHRoZSBsb2Rhc2ggdHJpbUVuZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHN0clxyXG4gICAqIEBwYXJhbSBzdHIyVHJpbVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgdHJpbUVuZCAoc3RyLCBzdHIyVHJpbSkge1xyXG4gICAgaWYgKHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIHN0cjJUcmltLmxlbmd0aCwgc3RyLmxlbmd0aCkgPT09IHN0cjJUcmltKVxyXG4gICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gc3RyMlRyaW0ubGVuZ3RoKVxyXG4gICAgcmV0dXJuIHN0clxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJsZXQiLCJpIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQWUsSUFBTSxtQkFBbUIsR0FBQyw0QkFLNUIsRUFBRSxZQUFZLEVBQUUsT0FBZSxFQUFFO29CQUFWO21DQUFBLEdBQUcsS0FBSzs7O0VBRTFDLElBQU0sQ0FBQyxZQUFZLEdBQUcsUUFBTzs7RUFFN0IsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHLEVBQUM7RUFDaEUsS0FBT0EsSUFBSSxHQUFHLElBQUksWUFBWSxFQUFFOztJQUU5QixJQUFNLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7TUFDdEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsRUFBQztNQUNoRCxNQUFNLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUM7S0FDaEQsTUFBTTtNQUNQLElBQU0sR0FBRyxLQUFLLE1BQU0sRUFBRTtRQUNwQixNQUFNLENBQUMsR0FBRyxDQUFDLDhEQUE4RCxFQUFDO1FBQzFFLEtBQU9BLElBQUksTUFBTSxJQUFJLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRTtVQUN0QyxNQUFNLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFF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"}