!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.QuilkFrontendRouter=r()}(this,function(){var t=function(t){var r=this,n=this.trimEnd(String(window.location.pathname),"/");for(var e in t)if(Array.isArray(t[e]))r.run_path_matchers(t,n,e);else if("path"===e)for(var i in t[e])r.run_path_matchers(t[e],n,i);else void 0===window.$?alert("To use attribute selection with the QuilkFrontendRouter please ensure you load in jquery to the window object."):r.run_attribute_matchers(t[e])};return t.prototype.run_attribute_matchers=function(t){var r=this,n=window.$;for(var e in t){var i=t[e],o=e;for(var s in i){var a=i[s];if("*"===s)r.run_attribute_constructors(a);else{var u=s.split(" ");switch(o){case"class":n(u.join(", .")).length>0&&r.run_attribute_constructors(a);break;case"id":n(u.join(", #")).length>0&&r.run_attribute_constructors(a);break;default:for(var c="",h=0;h<u.length;++h)c+="*["+o+"="+u[h]+"], ";c=c.slice(0,-2),n(c).length>0&&r.run_attribute_constructors(a)}}}}},t.prototype.run_attribute_constructors=function(t){for(var r=this,n=0;n<t.length;++n)r.start_instance(t[n])},t.prototype.run_path_matchers=function(t,r,n){var e=this;if(this.path_match(r,n))for(var i=0;i<t[n].length;++i)e.start_instance(t[n][i])},t.prototype.start_instance=function(t){try{new t}catch(t){console.error(t)}},t.prototype.path_match=function(t,r){var n=this;if("*"===r.slice(-1))return"/"===(r=r.substring(0,r.length-1))&&"/"!==t&&2===t.split("/").length||(!!this.compare(t,r)||0===t.indexOf(r));if(-1===r.indexOf("("))return this.compare(t,r);var e=!1;return this.key_to_paths(r).forEach(function(r){n.compare(t,r)&&(e=!0)}),e},t.prototype.key_to_paths=function(t){var r=this,n=t.split("("),e=[this.trimEnd(n[0],"/")];return n[1].slice(0,-1).split("|").forEach(function(t){e.push(r.trimEnd(n[0]+t,"/"))}),e},t.prototype.compare=function(t,r){if(r=this.trimEnd(r,"/"),-1===r.indexOf(":"))return t===r;r=this.trimEnd(r.split(":")[0],"/");var n=t.split("/");return n.pop(),(t=this.trimEnd(n.join("/"),"/"))===r},t.prototype.trimEnd=function(t,r){return t.substring(t.length-r.length,t.length)===r?t.substring(0,t.length-r.length):t},t});
//# sourceMappingURL=quilk-frontend-router.min.js.map
